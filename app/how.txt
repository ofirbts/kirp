ğŸš€ ×—×œ×§ 1 â€” ×¤×¢× ××—×ª ×‘×œ×‘×“ (×”×ª×§× ×” ×¨××©×•× ×™×ª)
1. ×œ×”×™×›× ×¡ ×œ×ª×™×§×™×™×ª ×”×¤×¨×•×™×§×˜
cd ~/projects/kirp
source venv/bin/activate
pip install -r requirements.txt

    ×¨×§ ×‘×“×™×§×”:
    config.py:
from pydantic_settings import BaseSettings

class Settings(BaseSettings):
    ENV: str = "dev"
    MONGO_URI: str = "mongodb://root:example@localhost:27017"
    MONGO_DB_NAME: str = "kirp"

    class Config:
        env_file = ".env"
        env_file_encoding = "utf-8"

settings = Settings()

    ×¨×§ ×‘×“×™×§×”:
    mongo.py:
from motor.motor_asyncio import AsyncIOMotorClient
from app.core.config import settings

client = AsyncIOMotorClient(settings.MONGO_URI)
db = client[settings.MONGO_DB_NAME]

messages_collection = db["messages"]


ğŸš€ ×—×œ×§ 2 â€” ×”×¨××ª Docker (Mongo, Redis, Qdrant)
×›×œ ×¤×¢× ×©××ª×” ××¤×¢×™×œ ××ª ×”××—×©×‘ ×•×¨×•×¦×” ×œ×”×¨×™× ××ª ×”××¢×¨×›×ª:
docker compose up -d
docker compose ps
docker exec -it kirp-mongodb mongosh -u root -p example

ğŸš€ ×—×œ×§ 3 â€” ×”×¨×¦×ª ×”×©×¨×ª FastAPI
source venv/bin/activate
pkill -f uvicorn
uvicorn app.main:app --reload

http://127.0.0.1:8000/health/
                                    {"status": "ok"}
http://127.0.0.1:8000/debug/jobs
                                        []
http://127.0.0.1:8000/docs

ğŸš€ ×—×œ×§ 4 â€” ×× ××™ ×¤×¢× ×™×© ×‘×¢×™×™×ª Mongo (×›××• ×©×”×™×” ×¢×›×©×™×•)
docker compose down
docker volume rm <volume1>
docker volume rm <volume2>
docker compose up -d

ğŸ“ ××‘× ×” ×ª×™×§×™×•×ª
tree -L 4 app

ğŸ“„ ×ª×•×›×Ÿ ××œ× ×©×œ ×”×§×‘×¦×™× ×”××œ×• (×‘×“×™×•×§ ×›×š):
sed -n '1,200p' app/rag/vector_store.py
sed -n '1,200p' app/rag/qa_engine.py
sed -n '1,200p' app/rag/embedder.py
sed -n '1,200p' app/services/pipeline.py

ğŸ“¦ ×—×‘×™×œ×•×ª ××•×ª×§× ×•×ª (×§×¨×™×˜×™)
pip freeze | egrep "langchain|openai|faiss|fastapi"